<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Objects</title>
    <script src="./js/three.min.js"></script>
</head>
<body>
    <select id="light">
        <option value="0">Ambient Light</option>
        <option value="1">Hemisphere Light</option>
        <option value="2">Directional Light</option>
        <option value="3">Point Light</option>
        <option value="4">Spot Light</option>
    </select>
</body>
</html>

<script>    
    let scene, camera, renderer;
    // 3D objects
    let cube, cone, cylinder, dode, torus, sphere, octahedron, tetrahedron, torusKnot;
    
    // cube
    let createCube = function() {
        let cubeGeometry = new THREE.BoxGeometry(1, 1, 1);
        let cubeMaterial = new THREE.MeshBasicMaterial({color: 0x619eff, wireframe: true, wireframeLineWidth: 2});
        cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
        scene.add(cube);
    }

    // cone
    let createCone = function() {
        let coneGeometry = new THREE.ConeGeometry(0.5, 1, 16);
        let coneMaterial = new THREE.MeshDepthMaterial({wireframe: true, wireframeLineWidth: 2});
        cone = new THREE.Mesh(coneGeometry, coneMaterial);
        scene.add(cone);
        cone.position.y = -2;
    }

    // cylinder
    let createCylinder = function() {
        let cylinderGeometry = new THREE.CylinderGeometry(0.5, 0.5, 1, 16);
        let cylinderMaterial = new THREE.MeshPhongMaterial({color: 0x619eff, wireframe: true, wireframeLineWidth: 2, shininess: 150});
        cylinder = new THREE.Mesh(cylinderGeometry, cylinderMaterial);
        scene.add(cylinder);
        cylinder.position.y = 2;
    }

    // dode
    let createDode = function() {
        let dodeGeometry = new THREE.DodecahedronGeometry(0.5, 1);
        let dodeMaterial = new THREE.MeshPhongMaterial({color: 0x880044, shininess: 150});
        dode = new THREE.Mesh(dodeGeometry, dodeMaterial);
        scene.add(dode);
        dode.position.set(-2, 2, 0);
    }

    // torus
    let createTorus = function() {
        let torusGeometry = new THREE.TorusGeometry(0.5, 0.15, 8, 16);
        let torusMaterial = new THREE.MeshLambertMaterial({color: 0x448800});
        torus = new THREE.Mesh(torusGeometry, torusMaterial);
        scene.add(torus);
        torus.position.set(2, -2, 0);
    }

    // sphere
    let createSphere = function() {
        let sphereGeometry = new THREE.SphereGeometry(0.5, 8, 8);
        let sphereMaterial = new THREE.MeshPhongMaterial({color: 0x49ef4, shininess: 30});
        sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
        scene.add(sphere);
        sphere.position.set(2, 0, 0);
    }

    // octahedron
    let createOctahedron = function() {
        let octahedronGeometry = new THREE.OctahedronGeometry(0.5);
        let octahedronMaterial = new THREE.MeshStandardMaterial({color: 0xFFaa00, metalness: 1, roughness: 0.5});
        octahedron = new THREE.Mesh(octahedronGeometry, octahedronMaterial);
        scene.add(octahedron);
        octahedron.position.set(2, 2, 0);
    }

    // tetrahedron
    let createTetrahedron = function() {
        let tetrahedronGeometry = new THREE.TetrahedronGeometry(1);
        let tetrahedronMaterial = new THREE.MeshPhysicalMaterial({color: 0x800080});
        tetrahedron = new THREE.Mesh(tetrahedronGeometry, tetrahedronMaterial);
        scene.add(tetrahedron);
        tetrahedron.position.set(-2, 0, 0);
    }

    // torusKnot
    let createTorusKnot = function() {
        let torusKnotGeometry = new THREE.TorusKnotGeometry(0.5, 0.15, 64, 12, 2);
        let torusKnotMaterial = new THREE.MeshPhongMaterial({color: 0xaa4400, shininess: 150});
        torusKnot = new THREE.Mesh(torusKnotGeometry, torusKnotMaterial);
        scene.add(torusKnot);
        torusKnot.position.set(-2, -2, 0);
    }

    let lighting = function() {
        const color = 0xffffff;
        const color1 = 0x0095DD;

        // AmbientLight -> menerangi semua obyek dalam scene secara merata
        const aLight = new THREE.AmbientLight(color, 1);
        aLight.position.set(0, -4, 0);

        // Hemisphere Light -> ada fading antara warna langit dan ground
        const hLight = new THREE.HemisphereLight(color, color1, 1);
        hLight.position.set(-10, 10, 15);

        // Directional Light -> cahaya dipancarkan ke arah tertentu (seperti matahari)
        const dLight = new THREE.DirectionalLight(color, 1);
        dLight.position.set(0, 0, 2).normalize();

        // Point Light -> cahaya dipancarkan dari jarak tertentu ke semua arah (seperti lampu)
        const pLight = new THREE.PointLight(color, 1, 100);
        pLight.position.set(-10, 15, 50);

        // Spot Light -> memancarkan sinar kesatu arah sepanjang kerucut (semakin jauh semakin lebar area cahaya)
        const sLight = new THREE.SpotLight(color, 1, 75);
        sLight.position.set(-10, 15, 50);

        // array of lights
        const lights = [aLight, hLight, dLight, pLight, sLight];

        lights.forEach((obj) => scene.add(obj));
        lights.forEach((light) => {light.visible = false});
        lights[0].visible = true;

        const selectedLight = document.getElementById('light');
        selectedLight.addEventListener('change', (e) => {
            const selected = e.target.value;
            lights.forEach((light) => {light.visible = false});
            lights[selected].visible = true;
        });
    };

    // set up the environment - 
    // initiallize scene, camera, objects and renderer
    let init = function() {
        // 1. create the scene
        scene = new THREE.Scene();
        scene.background = new THREE.Color(0x565656);
        
        // 2. create an locate the camera       
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 
                    1, 1000);
        camera.position.z = 5;
        lighting();
        
        // 3. create an locate the object on the scene           
        createCube();
        createCone();
        createCylinder();
        createDode();
        createTorus();
        createSphere();
        createOctahedron();
        createTetrahedron();
        createTorusKnot();
        
        // 4. create the renderer     
        renderer = new THREE.WebGLRenderer({antialias: true});   
        renderer.setSize(window.innerWidth, window.innerHeight);
        
        document.body.appendChild(renderer.domElement);
    };
    
    // main animation loop - calls 50-60 in a second.
    let mainLoop = function() {
        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;
        cone.rotation.x += 0.01;
        cone.rotation.y += 0.01;
        cylinder.rotation.x += 0.01;
        cylinder.rotation.y += 0.01;
        dode.rotation.x += 0.01;
        dode.rotation.y += 0.01;
        torus.rotation.x += 0.01;
        torus.rotation.y += 0.01;
        sphere.rotation.x += 0.01;
        sphere.rotation.y += 0.01;
        octahedron.rotation.x += 0.01;
        octahedron.rotation.y += 0.01;
        tetrahedron.rotation.x += 0.01;
        tetrahedron.rotation.y += 0.01;
        torusKnot.rotation.x += 0.01;
        torusKnot.rotation.y += 0.01;
        renderer.render(scene, camera);
        requestAnimationFrame(mainLoop);
    };
    
    ///////////////////////////////////////////////
    init();
    mainLoop();
</script>
    